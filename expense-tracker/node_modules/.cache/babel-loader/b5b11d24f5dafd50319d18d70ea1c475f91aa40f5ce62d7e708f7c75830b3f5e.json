{"ast":null,"code":"import{useEffect,useState}from\"react\";import{getDataFromServer}from\"../services/menu\";import ExpenseTracker from\"./ExpenseTracker\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function ShowData(){const[items,setItems]=useState([]);const[error,setError]=useState(null);const[sum,setSum]=useState();const[rahulspent,setRahulspent]=useState(0);const[rameshspent,setRameshspent]=useState(0);const[showform,setShowForm]=useState(false);var rahulspent1=0;var rameshspent1=0;useEffect(()=>{const fetchMenu=async()=>{try{const data=await getDataFromServer();setItems(data);setSum(data.reduce((result,v)=>result=result+v.price,0));Shares(data);}catch(error){setError(error);}};fetchMenu();},[showform]);const Shares=data=>{data.map(sams=>sams.payeeName===\"Rahul\"?rahulspent1=rahulspent1+sams.price:rameshspent1=rameshspent1+sams.price);setRahulspent(rahulspent1);setRameshspent(rameshspent1);};const success=()=>{setShowForm(false);};const cancel=()=>{setShowForm(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"header\",{id:\"page-Header\",children:\"Expense Tracker\"}),/*#__PURE__*/_jsx(\"button\",{id:\"Add-Button\",onClick:()=>setShowForm(true),children:\"Add\"}),showform&&/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsx(ExpenseTracker,{onTrue:success,onClose:cancel})}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"use-inline date header-color\",children:\"Date\"}),/*#__PURE__*/_jsx(\"div\",{className:\"use-inline header-color\",children:\"Product Purchased\"}),/*#__PURE__*/_jsx(\"div\",{className:\"use-inline price header-color\",children:\"Price\"}),/*#__PURE__*/_jsx(\"div\",{className:\"use-inline header-color\",style:{width:112},children:\"Payee\"})]}),items&&items.map((user,idx)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"use-inline date\",children:user.setDate}),/*#__PURE__*/_jsx(\"div\",{className:\"use-inline\",children:user.product}),/*#__PURE__*/_jsx(\"div\",{className:\"use-inline price\",children:user.price}),/*#__PURE__*/_jsx(\"div\",{className:`use-inline ${user.payeeName}`,children:user.payeeName})]},idx)),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"use-inline \",children:\"Total: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"use-inline total\",children:sum}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"use-inline \",children:\"Rahul paid: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"use-inline total Rahul\",children:rahulspent}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"use-inline \",children:\"Ramesh paid: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"use-inline total Ramesh\",children:rameshspent.toFixed(2)}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"use-inline payable\",children:rahulspent>rameshspent?\"Pay Rahul \":\"Pay Ramesh\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"use-inline payable price\",children:[\" \",Math.abs((rahulspent-rameshspent)/2)]}),error&&/*#__PURE__*/_jsx(_Fragment,{children:error===null||error===void 0?void 0:error.message})]});}export default ShowData;","map":{"version":3,"names":["useEffect","useState","getDataFromServer","ExpenseTracker","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ShowData","items","setItems","error","setError","sum","setSum","rahulspent","setRahulspent","rameshspent","setRameshspent","showform","setShowForm","rahulspent1","rameshspent1","fetchMenu","data","reduce","result","v","price","Shares","map","sams","payeeName","success","cancel","children","id","onClick","className","onTrue","onClose","style","width","user","idx","setDate","product","toFixed","Math","abs","message"],"sources":["C:/Great Learning/Labs/LAB ReactJs/expense-tracker/src/Components/ShowData.js"],"sourcesContent":["\r\nimport { useEffect, useState } from \"react\";\r\nimport { getDataFromServer } from \"../services/menu\";\r\nimport ExpenseTracker from \"./ExpenseTracker\";\r\n\r\nfunction ShowData() {\r\n  const [items, setItems] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [sum, setSum] = useState();\r\n  const [rahulspent, setRahulspent] = useState(0);\r\n  const [rameshspent, setRameshspent] = useState(0);\r\n  const [showform, setShowForm] = useState(false);\r\n\r\n  var rahulspent1 = 0;\r\n  var rameshspent1 = 0;\r\n\r\n  useEffect(() => {\r\n    const fetchMenu = async () => {\r\n      try {\r\n        const data = await getDataFromServer();\r\n        setItems(data);\r\n        setSum(data.reduce((result, v) => (result = result + v.price), 0));\r\n        Shares(data);\r\n      } catch (error) {\r\n        setError(error);\r\n      }\r\n    };\r\n    fetchMenu();\r\n  }, [showform]);\r\n\r\n  const Shares = (data) => {\r\n    data.map((sams) =>\r\n      sams.payeeName === \"Rahul\"\r\n        ? (rahulspent1 = rahulspent1 + sams.price)\r\n        : (rameshspent1 = rameshspent1 + sams.price)\r\n    );\r\n    setRahulspent(rahulspent1);\r\n    setRameshspent(rameshspent1);\r\n  };\r\n\r\n  const success = () => {\r\n    setShowForm(false);\r\n  };\r\n  const cancel = () => {\r\n    setShowForm(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <header id=\"page-Header\">Expense Tracker</header>\r\n      <button id=\"Add-Button\" onClick={() => setShowForm(true)}>\r\n        Add\r\n      </button>\r\n      {showform && (\r\n        <div className=\"form\">\r\n          <ExpenseTracker onTrue={success} onClose={cancel} />\r\n        </div>\r\n      )}\r\n      <>\r\n        <div className=\"use-inline date header-color\">Date</div>\r\n        <div className=\"use-inline header-color\">Product Purchased</div>\r\n        <div className=\"use-inline price header-color\">Price</div>\r\n        <div className=\"use-inline header-color\" style={{ width: 112 }}>\r\n          Payee\r\n        </div>\r\n      </>\r\n      {items &&\r\n        items.map((user, idx) => (\r\n          <div key={idx}>\r\n            <div className=\"use-inline date\">{user.setDate}</div>\r\n            <div className=\"use-inline\">{user.product}</div>\r\n            <div className=\"use-inline price\">{user.price}</div>\r\n            <div className={`use-inline ${user.payeeName}`}>\r\n              {user.payeeName}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      <hr />\r\n      <div className=\"use-inline \">Total: </div>\r\n      <span className=\"use-inline total\">{sum}</span> <br />\r\n      <div className=\"use-inline \">Rahul paid: </div>\r\n      <span className=\"use-inline total Rahul\">{rahulspent}</span> <br />\r\n      <div className=\"use-inline \">Ramesh paid: </div>\r\n      <span className=\"use-inline total Ramesh\">{rameshspent.toFixed(2)}</span> <br />\r\n      <span className=\"use-inline payable\">\r\n        {rahulspent > rameshspent ? \"Pay Rahul \" : \"Pay Ramesh\"}\r\n      </span>\r\n      <span className=\"use-inline payable price\">\r\n        {\" \"}\r\n        {Math.abs((rahulspent - rameshspent) / 2)}\r\n      </span>\r\n      {error && <>{error?.message}</>}\r\n    </>\r\n  );\r\n}\r\nexport default ShowData;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}